<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Connect - Cybershield</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #0d1117;
      color: #e0e0e0;
    }

    /* ---------------- Navbar ---------------- */
    header {
      background: #1b2434;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 20px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.4);
    }
    header .logo img {
      width: 65px;
      border-radius: 50%;
      border: 2px solid #ffffff;
      background: #ffffff;
    }
    nav ul {
      list-style: none;
      display: flex;
      gap: 12px;
      margin: 0;
      padding: 0;
    }
    nav ul li a {
      color: #e0e0e0;
      text-decoration: none;
      font-weight: 500;
      padding: 6px 12px;
      border-radius: 6px;
      transition: 0.3s;
    }
    nav ul li a:hover,
    nav ul li a.active {
      background: #e0e0e0;
      color: #1b2434;
    }

    /* ---------------- Headings ---------------- */
    h1 {
      text-align: center;
      margin: 2rem 0 1rem;
      font-size: 2rem;
      color: #e0e0e0;
      background: #1b2434;
      display: inline-block;
      padding: 10px 20px;
      border-radius: 8px;
    }

    /* ---------------- Upload Box ---------------- */
    .upload-box {
      border: 2px dashed #1b2434;
      border-radius: 12px;
      width: 60%;
      margin: 2rem auto;
      padding: 2rem;
      text-align: center;
      background: rgba(255, 255, 255, 0.02);
      transition: transform 0.3s, box-shadow 0.3s;
    }
    .upload-box:hover {
      transform: scale(1.02);
      box-shadow: 0 0 20px rgba(27, 36, 52, 0.5);
    }

    /* ---------------- Results Table ---------------- */
    .results {
      width: 80%;
      margin: 2rem auto;
      border-collapse: collapse;
      overflow: hidden;
      border-radius: 10px;
      background: #161b22;
      box-shadow: 0 0 15px rgba(0,0,0,0.3);
    }
    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.95rem;
    }
    th, td {
      padding: 0.8rem;
      text-align: left;
      border-bottom: 1px solid #2d3748;
    }
    th {
      background: #1b2434;
      color: #ffffff;
      text-transform: uppercase;
    }
    tr:nth-child(even) {
      background: rgba(255, 255, 255, 0.03);
    }

    /* ---------------- Status Colors ---------------- */
    tr.normal {
      color: #22c55e;
      font-weight: 500;
    }
    tr.tampered {
      color: #ef4444;
      font-weight: 500;
    }
    tr.suspicious {
      color: #eab308;
      font-weight: 500;
    }

    /* ---------------- Live Status ---------------- */
    .live-status {
      text-align: center;
      margin-top: 1rem;
      font-size: 1.1rem;
      color: #e0e0e0;
    }

    input[type="file"] {
      margin-top: 1rem;
      color: #e0e0e0;
    }
  </style>
</head>
<body>

  <header>
    <div class="logo">
      <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Logo">
    </div>
    <nav>
      <ul>
        <li><a href="{{ url_for('home') }}">Home</a></li>
        <li><a href="{{ url_for('connect') }}" class="active">Connect</a></li>
        <li><a href="{{ url_for('protect') }}">Protect</a></li>
        <li><a href="{{ url_for('logs.logs_dashboard', system_id=system_id) }}">Monitor</a></li>
        <li><a href="{{ url_for('forensics') }}">Forensics</a></li>
        <li><a href="{{ url_for('awareness') }}">Awareness</a></li>
        <li><a href="{{ url_for('login') }}">Login</a></li>
        <li><a href="{{ url_for('profile') }}">Profile</a></li>
      </ul>
    </nav>
  </header>

  <center><h1>ðŸ”’ CONNECT MODE ACTIVE</h1></center>

  <div class="upload-box">
    <p>Drag & drop your log file here or choose file</p>
    <input type="file" id="logUpload">
  </div>

  <div class="live-status">Waiting for log file...</div>

  <div class="results">
    <table>
      <thead>
        <tr>
          <th>Filename</th>
          <th>Status</th>
          <th>Confidence</th>
          <th>Timestamp</th>
        </tr>
      </thead>
      <tbody id="logTable"></tbody>
    </table>
  </div>

  <script>
    const logTable = document.getElementById("logTable");
    const uploadInput = document.getElementById("logUpload");
    const liveStatus = document.querySelector(".live-status");

    uploadInput.addEventListener("change", async (e) => {
      const file = e.target.files[0];
      if(!file) return;

      const formData = new FormData();
      formData.append("logfile", file);

      liveStatus.textContent = "Analyzing logs...";

      try {
        const response = await fetch("/api/analyze-log", {
          method: "POST",
          body: formData
        });

        const data = await response.json();
        displayLogs(data);
      } catch(err) {
        console.error(err);
        liveStatus.textContent = "Error analyzing logs!";
      }
    });

    function displayLogs(logs) {
      logTable.innerHTML = "";

      logs.forEach(log => {
        const row = document.createElement("tr");
        row.classList.add(log.status.toLowerCase());
        row.innerHTML = `
          <td>${log.filename}</td>
          <td>${log.status}</td>
          <td>${log.confidence || ""}</td>
          <td>${log.timestamp || ""}</td>
        `;
        logTable.appendChild(row);
      });

      liveStatus.textContent = "Analysis complete âœ…";
    }
  </script>
</body>
</html> -->


<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Connect - Cybershield</title>
  <style>
    /* ---------------- Base Page Setup ---------------- */
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      color: #ffffff;
      background: #0d1117;
      overflow-x: hidden;
    }

    /* ---------------- Full Background Video ---------------- */
    .bg-video {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: -1; /* keeps video behind everything */
      filter: brightness(0.5); /* darken video for better text contrast */
    }

    /* ---------------- Navbar ---------------- */
    header {
      background: rgba(27, 36, 52, 0.85);
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 20px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.4);
      position: relative;
      z-index: 2;
    }
    header .logo img {
      width: 65px;
      border-radius: 50%;
      border: 2px solid #ffffff;
      background: #ffffff;
    }
    nav ul {
      list-style: none;
      display: flex;
      gap: 12px;
      margin: 0;
      padding: 0;
    }
    nav ul li a {
      color: #e0e0e0;
      text-decoration: none;
      font-weight: 500;
      padding: 6px 12px;
      border-radius: 6px;
      transition: 0.3s;
    }
    nav ul li a:hover,
    nav ul li a.active {
      background: #e0e0e0;
      color: #1b2434;
    }

    /* ---------------- Heading ---------------- */
    h1 {
      text-align: center;
      margin: 2rem 0 1rem;
      font-size: 2rem;
      color: #ffffff;
      background: rgba(27, 36, 52, 0.8);
      display: inline-block;
      padding: 10px 20px;
      border-radius: 8px;
      position: relative;
      z-index: 2;
    }

    /* ---------------- Upload Section ---------------- */
    .upload-section {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 3rem 0;
      position: relative;
      z-index: 2;
    }
    .upload-box {
      border: 2px dashed #58a6ff;
      border-radius: 12px;
      width: 60%;
      padding: 2rem;
      text-align: center;
      background: rgba(0, 0, 0, 0.6);
      transition: transform 0.3s, box-shadow 0.3s;
    }
    .upload-box:hover {
      transform: scale(1.02);
      box-shadow: 0 0 25px rgba(88,166,255,0.5);
    }

    /* ---------------- Results Table ---------------- */
    .results {
      width: 80%;
      margin: 2rem auto;
      border-collapse: collapse;
      overflow: hidden;
      border-radius: 10px;
      background: rgba(0, 0, 0, 0.75);
      box-shadow: 0 0 15px rgba(0,0,0,0.3);
      position: relative;
      z-index: 2;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.95rem;
      color: #e0e0e0;
    }
    th, td {
      padding: 0.8rem;
      text-align: left;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    th {
      background: rgba(27, 36, 52, 0.9);
      color: #ffffff;
      text-transform: uppercase;
    }
    tr:nth-child(even) {
      background: rgba(255, 255, 255, 0.05);
    }

    /* ---------------- Status Colors ---------------- */
    tr.normal { color: #69c68b; font-weight: 500; }
    tr.tampered { color: #c36f6f; font-weight: 500; }
    tr.suspicious { color: #e2c05c; font-weight: 500; }

    /* ---------------- Live Status ---------------- */
    .live-status {
      text-align: center;
      margin-top: 1rem;
      font-size: 1.1rem;
      color: #ffffff;
      position: relative;
      z-index: 2;
    }

    input[type="file"] {
      margin-top: 1rem;
      color: #e0e0e0;
    }
  </style>
</head>
<body>

  <!-- Full background video -->
  <video autoplay muted loop class="bg-video">
    <source src="{{ url_for('static', filename='videos/connect.mp4') }}" type="video/mp4">
  </video>

  <!-- Navbar -->
  <header>
    <div class="logo">
      <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Logo">
    </div>
    <nav>
      <ul>
        <li><a href="{{ url_for('home') }}">Home</a></li>
        <li><a href="{{ url_for('connect') }}" class="active">Connect</a></li>
        <li><a href="{{ url_for('protect') }}">Protect</a></li>
        <li><a href="{{ url_for('logs.logs_dashboard', system_id='win-system-01') }}">Monitor</a></li>
        <li><a href="{{ url_for('forensics') }}">Forensics</a></li>
        <li><a href="{{ url_for('login') }}">Login</a></li>
        <li><a href="{{ url_for('profile') }}">Profile</a></li>
      </ul>
    </nav>
  </header>

  <!-- Page Title -->
  <center><h1>ðŸ”’ CONNECT MODE ACTIVE</h1></center>

  <!-- Upload Section -->
  <div class="upload-section">
    <div class="upload-box">
      <p>Upload logs for analysis</p>
      <p>Drag & drop your log file here or choose file</p>
      <input type="file" id="logUpload">
    </div>
  </div>

  <!-- Live Status -->
  <div class="live-status">Waiting for log file...</div>

  <!-- Results Table -->
  <div class="results">
    <table>
      <thead>
        <tr>
          <th>Filename</th>
          <th>Status</th>
          <th>Confidence</th>
          <th>Timestamp</th>
        </tr>
      </thead>
      <tbody id="logTable">
        <tr><td colspan="4" style="text-align:center; color:#888;">No logs uploaded yet</td></tr>
      </tbody>
    </table>
  </div>

  <script>
    const logTable = document.getElementById("logTable");
    const uploadInput = document.getElementById("logUpload");
    const liveStatus = document.querySelector(".live-status");

    uploadInput.addEventListener("change", async (e) => {
      const file = e.target.files[0];
      if (!file) return;

      const formData = new FormData();
      formData.append("logfile", file);
      liveStatus.textContent = "Analyzing logs...";

      try {
        const response = await fetch("/api/analyze-log", {
          method: "POST",
          body: formData
        });
        const data = await response.json();
        displayLogs(data);
      } catch (err) {
        console.error(err);
        liveStatus.textContent = "Error analyzing logs!";
      }
    });

    function displayLogs(logs) {
      logTable.innerHTML = "";
      logs.forEach(log => {
        const row = document.createElement("tr");
        row.classList.add(log.status.toLowerCase());
        row.innerHTML = `
          <td>${log.filename}</td>
          <td>${log.status}</td>
          <td>${log.confidence || ""}</td>
          <td>${log.timestamp || ""}</td>
        `;
        logTable.appendChild(row);
      });
      liveStatus.textContent = "Analysis complete âœ…";
    }
  </script>
</body>
</html>
